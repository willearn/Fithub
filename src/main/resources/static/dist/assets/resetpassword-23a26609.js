import{_ as f,a as b,H as k,o as v,b as n,d as c,f as e,z as l,E as r,g as p,i as _,j as y,S as u,B as x,p as B,k as S}from"./index-e86ed1bf.js";import{_ as V}from"./4-2a4bab2f.js";const m=o=>(B("data-v-164c26ae"),o=o(),S(),o),E={class:"vh-100 pt-5",style:{"background-color":"#E8E1D4"}},I={class:"container py-5 h-100"},T={class:"row d-flex justify-content-center align-items-center h-100"},C={class:"col-lg-8"},N={class:"card",style:{"border-radius":"1rem"}},j={class:"row g-0"},D=m(()=>e("div",{class:"col-md-6 col-lg-5 d-none d-md-block"},[e("img",{src:V,alt:"login form",class:"img-fluid",style:{"border-radius":"1rem 0 0 1rem"}})],-1)),K={class:"col-md-6 col-lg-7 d-flex align-items-center"},M={class:"card-body p-4 p-lg-5 text-black"},U=m(()=>e("h2",{class:"pb-5",style:{"letter-spacing":"1px"}},"重設密碼",-1)),$={class:"mb-3"},q={key:0,class:"text-danger"},z={class:"mb-3"},H={key:0,class:"text-danger"},P={key:1,class:"text-danger"},R={class:"pt-1 mb-4"},A={__name:"resetpassword",setup(o){const w="http://localhost:8080/fithub",s=b({check:!0,token:"",newpassword:"",againpassword:""}),h=async()=>{try{if(!s.newpassword.trim()||!s.againpassword.trim()||!s.check)return;const i=await y.put(`${w}/members/resetPassword`,s);u.fire({title:"修改成功",icon:"success",confirmButtonText:"確定"}).then(t=>{t.isConfirmed&&x.push({name:"home"})})}catch{u.fire({title:"修改失敗",icon:"warning",confirmButtonText:"確定"})}},g=k();v(()=>{s.token=g.query.token});const d=()=>{s.newpassword===s.againpassword?s.check=!0:s.check=!1};return(i,t)=>(n(),c("section",E,[e("div",I,[e("div",T,[e("div",C,[e("div",N,[e("div",j,[D,e("div",K,[e("div",M,[U,e("div",$,[l(" 輸入新密碼"),s.newpassword?r("",!0):(n(),c("span",q,"*")),p(e("input",{type:"password",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=a=>s.newpassword=a),onKeyup:d},null,544),[[_,s.newpassword]])]),e("div",z,[l(" 再次確認密碼"),s.againpassword?r("",!0):(n(),c("span",H,"*")),p(e("input",{type:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=a=>s.againpassword=a),onKeyup:d},null,544),[[_,s.againpassword]]),s.check?r("",!0):(n(),c("span",P,"密碼不相符"))]),e("div",R,[e("button",{class:"btn btn-dark btn-lg btn-block",type:"button",onClick:t[2]||(t[2]=a=>h())},"確認")])])])])])])])])]))}},J=f(A,[["__scopeId","data-v-164c26ae"]]);export{J as default};
