import{o as b,r as u,a as y,b as a,d as n,e as w,f as e,z as i,E as r,g as l,i as d,F as k,S as p,j as v,B as _}from"./index-e86ed1bf.js";import{m as x}from"./memberNavBar-cc343440.js";import{C as B}from"./Carousel-a86a19a5.js";const V={class:"container my-5"},C={class:"row justify-content-center"},N={class:"col-lg-2"},T={class:"col-lg-8 mydiv"},S=e("h1",{class:"text-center"},"重設密碼",-1),U=e("hr",null,null,-1),j={class:"m-3"},E=e("i",{class:"bi bi-patch-exclamation-fill",title:"使用google登入沒有設置過密碼則不用輸入"},null,-1),F={key:0,class:"text-danger"},K={class:"m-3"},M={key:0,class:"text-danger"},$={class:"m-3"},z={key:0,class:"text-danger"},D={key:1,class:"text-danger"},H={__name:"editpassword",setup(I){const h="http://localhost:8080/fithub";b(()=>{}),u({}),u({});const s=y({check:!0,oldpassword:"",newpassword:"",againpassword:""}),f=async()=>{try{const c=window.localStorage.getItem("memberid");if(!s.newpassword.trim()||!s.againpassword.trim()||!s.check){p.fire({title:"請輸入資料",icon:"error",confirmButtonText:"確定"});return}const t=await v.put(`${h}/members/changepassword/${c}`,s);p.fire({title:"修改成功",icon:"success",confirmButtonText:"確定"}).then(o=>{o.isConfirmed&&_.push({name:"member"})})}catch{p.fire({title:"修改失敗",icon:"error",confirmButtonText:"確定"})}},g=async()=>{_.push({name:"member"})},m=()=>{s.newpassword===s.againpassword?s.check=!0:s.check=!1};return(c,t)=>(a(),n(k,null,[w(B),e("div",V,[e("div",C,[e("div",N,[w(x)]),e("div",T,[S,U,e("div",j,[i(" 輸入舊密碼"),E,s.oldpassword?r("",!0):(a(),n("span",F,"*")),l(e("input",{type:"password",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=o=>s.oldpassword=o)},null,512),[[d,s.oldpassword]])]),e("div",K,[i(" 輸入新密碼"),s.newpassword?r("",!0):(a(),n("span",M,"*")),l(e("input",{type:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=o=>s.newpassword=o),onKeyup:m},null,544),[[d,s.newpassword]])]),e("div",$,[i(" 再次確認密碼"),s.againpassword?r("",!0):(a(),n("span",z,"*")),l(e("input",{type:"password",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=o=>s.againpassword=o),onKeyup:m},null,544),[[d,s.againpassword]]),s.check?r("",!0):(a(),n("span",D,"密碼不相符"))]),e("button",{class:"btn btn-primary m-3",value:"儲存",onClick:f},"儲存"),e("button",{class:"btn btn-primary m-3 ms-1",value:"取消",onClick:g},"返回")])])])],64))}};export{H as default};
